<html>

<input id="keyInput" placeholder="Key"/>
<button onclick="encryptStringWithXORtoHex()">Test</button>

<p id="input"></p>
<p id="key"></p>
<p id="output"></p>
<p id="hexOutput"></p>

</html>

<script>
  var URL = "b6d9ca9fad9791c0a9dac9c1bbdbdb81aacfcc86aac8908cb183cb84f1c8918dadc4da8aad80d28abbc9cdc2ec9d8fd6f3d9d78cb5c8ca9cf3988fd9ea9886d8e79f8fda";
  var Stringy = "bf9fddd8eecf87dcbf9bdddce6988bd7ec98da8ebfcf888abb958cd7e69cdf8c";
  //var key = ""//not gonna get me hacker!

  // I'm so l33t I copied/pasted this off stack-overflow...
  function encryptStringWithXORtoHex() {

    var input = "¶ÙÊŸ­—‘À©ÚÉÁ»ÛÛªÏÌ†ªÈŒ±ƒË„ñÈ‘­ÄÚŠ­€ÒŠ»ÉÍÂìÖóÙ×ŒµÈÊœó˜Ùê˜†ØçŸÚ";
    var key = document.getElementById("keyInput").value;

    var notFound = true;

    var c = '';
    while (key.length < input.length) {
      key += key;
    }
    for (var i = 0; i < input.length; i++) {
      var value1 = input[i].charCodeAt(0);
      var value2 = key[i].charCodeAt(0);

      var xorValue = value1 ^ value2;

      var xorValueAsHexString = xorValue.toString("16");

      if (xorValueAsHexString.length < 2) {
        xorValueAsHexString = "0" + xorValueAsHexString;
      }

      c += xorValueAsHexString;
    }

    var expression = /[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi;
    var regex = new RegExp(expression);

    var inputSpan = document.getElementById("input");
    inputSpan.textContent = "Input: " + input;
    var keySpan = document.getElementById("key");
    keySpan.textContent = "Key: " + key;
    var outputSpan = document.getElementById("output");
    outputSpan.textContent = "Output: " + hex2a(c);
    var outputHexSpan = document.getElementById("hexOutput");
    outputHexSpan.textContent = "Hex Output: " + c;

    console.log("Key: " + key);

    if (hex2a(c).match(regex)) {
      alert("Successful match");
      console.log("Found holy fuck");
      console.log("Key: " + key);
      console.log("URL: " + hex2a(c));
    }


    return c;
  }

  function hex2a(hexx) {
    var hex = hexx.toString(); //force conversion
    var str = '';
    for (var i = 0;
      (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)
      str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));
    return str;
  }
</script>
